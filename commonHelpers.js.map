{"version":3,"file":"commonHelpers.js","sources":["../src/js/projects.js","../src/js/covers.js","../src/js/reviews.js","../src/js/api.js","../src/js/work_tougether.js"],"sourcesContent":["// import Swiper bundle with all modules installed\nimport Swiper from 'swiper/bundle';\n\n// import styles bundle\nimport 'swiper/css/bundle';\n\nnew Swiper('.swiper', {\n  // Optional parameters\n  cssMode: true,\n  spaceBetween: 30,\n\n  // Navigation arrows\n  navigation: {\n    nextEl: '.s-button-next',\n    prevEl: '.s-button-prev',\n  },\n  mousewheel: true,\n  keyboard: true,\n  touch: true,\n});\n","const IMGS = document.querySelectorAll(\".CoversImgContainer\")\nconst IMG_CONTAINER = document.querySelector(\".CoverBgContainer\")\n\n// ====================================================\n\nwindow.addEventListener(\"scroll\", coversShowAnimation)\n\n// ====================================================\n\nfunction coversShowAnimation() {\n    if (ifCoversInVievport(IMG_CONTAINER)) {\n        IMGS.forEach(elem => elem.classList.add(\"AnimationOn\"))\n    } else {\n        IMGS.forEach(elem => elem.classList.remove(\"AnimationOn\"))\n}\n}\n\nfunction ifCoversInVievport(elem) {\n    const position = elem.getBoundingClientRect()\n    return (\n        position.bottom > 0 &&\n        position.right > 0 &&\n        position.top < (window.innerHeight || document.documentElement.clientHeight) &&\n        position.left < (window.innerWidth || document.documentElement.clientWidth)\n    );\n}","// import Swiper bundle with all modules installed\nimport Swiper from 'swiper';\n\n// import styles bundle\nimport 'swiper/css';\n\nconst screenWidth = window.innerWidth;\nconst swiper = new Swiper('.reviews-swiper', {\n  // Optional parameters\n  cssMode: true, \n  spaceBetween: (screenWidth >=768 && screenWidth < 1280) ? 14: 16,\n\n  // Navigation arrows\n  navigation: {\n    nextEl: '.button-next',\n    prevEl: '.button-prev',\n  },\n  mousewheel: true,\n  keyboard: true,\n  touch: true,\n  \n  // Віртуальні слайди\n  virtual: {\n    slides: (function () {\n\n      let slide = []\n      if (screenWidth < 768) {\n        return ['', '', '', '', '', '']\n      } else if ((screenWidth >= 768) && (screenWidth < 1440)) {\n        return ['', '', '']        \n      } else if (screenWidth >= 1440) {\n        return ['', '']\n      }\n    }()),\n    addSlidesBefore: screenWidth >= 768 ? 1 : 5, \n    addSlidesAfter: screenWidth >= 768 ? 1 : 5,\n  }\n});\n\n\n\n\n// запит з бекенду=========================================================\nconst reviewsList = document.getElementById('reviewsList');\n\nfetch(\"https://portfolio-js.b.goit.study/api/reviews\")\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .then((reviews) => {\n    const markup = reviews.map((review) => {\n      return `\n        <li class=\"review\">\n        <img class=\"user-icon\" src=\"${review.avatar_url}\" alt=\"Avatar\">\n          <h4 class=\"name\">${review.author}</h4>\n          <p class=\"review-text\">${review.review}</p>\n        </li>\n      `;\n    }).join(\"\");\n\n    reviewsList.innerHTML = markup; // Вставляємо HTML у список відгуків\n  })\n  .catch((error) => console.log(error));\n\n\n  \n  ","export async function PostRequest(email, comment) {\n  const BASE_URL = 'https://portfolio-js.b.goit.study/api';\n  const END_POINT = '/requests';\n  const url = BASE_URL + END_POINT;\n\n  const options = {\n    method: 'POST',\n    body: JSON.stringify({\n      email: email,\n      comment: comment,\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n    },\n  };\n\n  return await fetch(url, options).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n}\n","import { PostRequest } from './api';\n\nconst wtGlobalRefs = {\n  wtCoopForm: document.querySelector('#WtForm'),\n  wtModal: document.querySelector('.WorkTogetherModalWrapper'),\n  wtResultMsg: document.querySelector('.CoopResultMsg'),\n  wtModalRespTitle: document.querySelector('#WtModalRespTitle'),\n  wtModalRespMessage: document.querySelector('#WtModalRespMessage'),\n  wtModalClose: document.querySelector('.WorkTogetherModalClose'),\n  wtModalBox: document.querySelector('.WorkTogetherModal'),\n};\n\nwtGlobalRefs.wtCoopForm.addEventListener('submit', sendWtUserData);\nwtGlobalRefs.wtCoopForm.elements.email.addEventListener(\n  'input',\n  resetValidation\n);\nwtGlobalRefs.wtCoopForm.elements.email.addEventListener('blur', emailValidator);\nwtGlobalRefs.wtCoopForm.elements.email.addEventListener('blur', inputCutString);\nwtGlobalRefs.wtCoopForm.elements.email.addEventListener(\n  'focus',\n  inputFullString\n);\nwtGlobalRefs.wtCoopForm.elements.comment.addEventListener(\n  'focus',\n  inputFullString\n);\nwtGlobalRefs.wtCoopForm.elements.comment.addEventListener(\n  'blur',\n  inputCutString\n);\nwtGlobalRefs.wtModal.addEventListener('click', closeWtModal);\nwindow.addEventListener('keydown', closeWtModal);\n\nasync function sendWtUserData(e) {\n  e.preventDefault();\n  wtGlobalRefs.wtResultMsg.textContent = '';\n  try {\n    const { email, comment } = wtGlobalRefs.wtCoopForm.elements;\n    const data = await PostRequest(email.value, comment.value);\n    openWtModal(data);\n    showSuccess();\n    wtGlobalRefs.wtCoopForm.reset();\n  } catch (err) {}\n}\n\nfunction openWtModal({ title, message }) {\n  wtGlobalRefs.wtModalRespTitle.textContent = title;\n  wtGlobalRefs.wtModalRespMessage.textContent = message;\n  wtGlobalRefs.wtModal.classList.add('IsOpen');\n}\n\nfunction closeWtModal(e) {\n  if (\n    !wtGlobalRefs.wtModalBox.contains(e.target) ||\n    wtGlobalRefs.wtModalClose.contains(e.target) ||\n    e.code === 'Escape'\n  ) {\n    wtGlobalRefs.wtModal.classList.remove('IsOpen');\n    wtGlobalRefs.wtResultMsg.textContent = '';\n  }\n}\n\nfunction emailValidator(e) {\n  e.target.value = e.target.value.trim();\n  const pattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  if (!e.target.value) {\n    resetValidation();\n    return;\n  }\n  if (e.target.value.match(pattern)) {\n    showValidationSuccess();\n  } else {\n    showValidationInvalid();\n  }\n}\n\nfunction showValidationSuccess() {\n  const { email } = wtGlobalRefs.wtCoopForm.elements;\n  email.classList.remove('Invalid');\n  email.classList.add('Success');\n  wtGlobalRefs.wtResultMsg.textContent = 'Success!';\n  wtGlobalRefs.wtResultMsg.classList.add('Success');\n}\n\nfunction showValidationInvalid() {\n  const { email } = wtGlobalRefs.wtCoopForm.elements;\n  email.classList.remove('Success');\n  email.classList.add('Invalid');\n  wtGlobalRefs.wtResultMsg.textContent = 'Invalid email, try again';\n  wtGlobalRefs.wtResultMsg.classList.remove('Success');\n}\n\nfunction resetValidation(e) {\n  if (e.target.name === 'email') {\n    wtGlobalRefs.wtResultMsg.textContent = '';\n    wtGlobalRefs.wtResultMsg.classList.remove('Success');\n  }\n  const { email } = wtGlobalRefs.wtCoopForm.elements;\n  email.classList.remove('Invalid');\n  email.classList.remove('Success');\n}\n\nfunction inputCutString(e) {\n  e.target.setAttribute('data-value', e.target.value.trim());\n  if (e.target.value.length > 15) {\n    e.target.value = e.target.value.slice(0, 16).concat('...');\n  }\n}\n\nfunction inputFullString(e) {\n  if (e.target.value) e.target.value = e.target.getAttribute('data-value');\n}\n"],"names":["Swiper","IMGS","IMG_CONTAINER","coversShowAnimation","ifCoversInVievport","elem","position","screenWidth","reviewsList","response","reviews","markup","review","error","PostRequest","email","comment","url","options","resp","wtGlobalRefs","sendWtUserData","resetValidation","emailValidator","inputCutString","inputFullString","closeWtModal","data","openWtModal","title","message","pattern","showValidationSuccess","showValidationInvalid"],"mappings":"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"}